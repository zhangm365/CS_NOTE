[toc]

# 访问控制与继承

---------------

## 1. 受保护成员

在类中以关键字 `protected` 声明那些希望让派生类分享但不想被其他公共访问使用的成员。

1.  和私有成员类似，受保护成员对于类的用户是不可访问的；
2.  和公有成员类似，受保护成员对于派生类的成员和友元来说是可以访问的。
3.  派生类的成员或友元只能通过派生类对象来访问基类中的受保护成员。

## 2. 公有、私有和受保护继承

派生类对继承而来的成员的访问权限受两个因素影响：
	1.基类中该成员的访问说明符；
	2.派生类的派生列表中的访问说明符。
派生访问说明符有：`public、protected、private` 三种。

派生访问说明符对于派生类的成员能否访问其直接基类的成员没什么影响，对基类成员的访问控制权限只与基类中的访问说明符有关。
**派生访问说明符的目的是控制派生类用户对于基类成员的访问权限**。

```cpp
class Base
{
	public:
    	void pub_mem();
    protected:
    	void prot_mem();
    private:
    	void priv_mem();
};


struct Pub_Derv : public Base	// 公有继承
{
	int f() { return prot_mem(); }	// 正确，可以访问基类的protected成员
    char bug() { return priv_mem(); }	// error : 不可访问 private 成员
};

struct Priv_Derv : private Base    // 私有继承
{
    int f() { return prot_mem(); }	// private 不影响派生类的访问权限
};


Pub_Derv D1;
D1.pub_mem();	// 正确
D1.prot_mem();	// error

Priv_Derv D2;
D2.pub_mem(); // error, pub_sem 在派生类中是 private 的


```

