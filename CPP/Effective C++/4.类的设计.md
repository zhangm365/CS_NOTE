# 接口设计与声明

## 1. `pass-by-reference-const` 代替 `pass-by-value`

传引用一方面是提高性能，另外可以避免切割问题。

切割问题：当一个派生类以值传递并被当做基类类型时，此时基类的构造函数会被调用，而这个对象中的派生类部分的特性全被切割掉了，只剩下了基类对象部分。

```c++
class Window {
public:    
    ...    
	std::string name() const;	//返回窗口名称    
    virtual void display() const;	//显示窗口和其内容
};

class WindowWithScrollBars: public Window {
public:    
    ...    
	virtual void display() const;
}

void printNameAndDisplay(Window w)        //不正确！ 参数可能被切割。
{    
    std::cout << w.name();
    w.display();
}

WindowWithScrollBars wwsb;
printNameAndDisplay(wwsb);	

/* 
	参数 w 会被构造成一个基类对象。
	而以值传递的形式时，则造成派生类对象 wwsb 是个 WindowWithScrollBars 类型的所有特性信息都会被切除转为基类类型 Window 

*/ 
```

