# `Effective C++` 笔记

## 1. 以对象管理资源

为防止堆上资源的泄漏，请使用 `RAII` 对象（资源获取时便初始化），它们在构造函数中获得资源并在析构函数中释放资源。例如，使用 **智能指针** 进行资源管理。

## 2. 成对使用 `new` 和 `delete` 时，采用相同的形式

对于 `new` 动态生成单一对象，则用 `delete` 释放对应的空间；

对于 `new` 生成的动态数组，则用 `delete []` 释放这段空间。

```c++
std::string strP1 = new std::string;
delete strP1;	// 删除一个对象空间

std::string strP2 = new std::string[64];
delete [] strP2;	// 删除一个由对象组成的数组

```

## 3. 以独立语句将 `new` 对象置入智能指针

```c++
std::shared_ptr<string> sp(new string);	// 单独写成一条语句

```

