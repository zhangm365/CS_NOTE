# 集合对象

集合对象的编码可以是`inset`或`hashtable`。

# 1. `inset`编码

`inset`编码的集合对象使用整数集合作为底层实现，集合对象包含的所有元素都被保存在整数集合里。

整数集合的数据结构定义如下：

```c
typedef struct intset {
    uint32_t encoding;    // 元素编码
    uint32_t length;      // content 中元素个数
    int8_t contents[];    // 整数数组
} intset;
```

例如以下为`inset`编码的集合对象：

```shell
127.0.0.1:6379> sadd numbers 1 2 3
(integer) 3
127.0.0.1:6379> type numbers
set
127.0.0.1:6379> object encoding numbers
"intset"

```



# 2. `hashtable`编码

`hashtable`编码的集合对象使用字典作为底层实现，字典的每个键都是一个字符串对象，而字典的值全置为`NULL`。

例如以下是`hashtable`编码的集合对象：

```shell
127.0.0.1:6379> sadd fruits apple banana cherry
(integer) 3
127.0.0.1:6379> type fruits
set
127.0.0.1:6379> object encoding fruits
"hashtable"
```



# 3. 集合命令

`SADD`：将新元素添加到集合中。

