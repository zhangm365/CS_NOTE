# 将进程中的内存区段数据转储到文件中

## 1. `gdb` 查看进程的内存映射布局

```bash
    # 查看进程的内存映射布局，或者 maintenance info sections
    gdb> info proc mappings

    # 通过dump memory命令可以将进程中的内存映射布局转储到文件中
    gdb> dump memory /tmp/mappings 0x7f5f5f5f0000 0x7f5f5f5f1000
```

## 2. 通过 `gcore` 命令将进程中的内存区段数据转储到文件中

```bash
    # 将进程为 pid 的内存区段数据转储到文件中:生成 core.pid 的文件
    sudo gcore pid

    # 读取 core 文件: strings 命令查找文件中可打印的字符串
    strings core.pid | less

    # 或者根据关键字搜索
    strings core.pid | grep "libpq_realloc"
```
