
# vacuuming

`PostgreSQL` 需要周期性维护，即称为 `vacuuming`（抽真空）。

对于许多安装性程序而言，让 `autovacuum` （自动抽真空）作为后台守护进程执行 `vacuuming` （吸尘工作）就已足够。

## 1. `vacuuming` 基本知识

在 `Postgres` 中，`vacuum` 命令必须定期处理每个表，原因如下：

1. 恢复或重用被更新或删除行占用的磁盘空间；

    这可以有效防止表的膨胀和提升磁盘利用空间和数据库性能。

2. 更新用于 `Postgres` 查询计划器的数据统计信息；

    这对查询计划的生成和优化查询执行策略至关重要，从而提高查询性能。

3. 更新可见性映射，从而加速仅索引扫描（index-only scans）的速度；

    仅索引扫描指的是，`Postgres` 支持仅通过索引数据回答查询，不需要访问 `Heap`（存储表的主要数据区域）。

4. 防止因事务或多事务 ID 封装导致丢失非常旧的数据。
   及时释放事务 ID，避免事务 ID 用尽的情况。

